
> hydrology-dashboard-backend@1.0.0 dev
> nodemon src/server.js

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): src\**\*[39m
[33m[nodemon] watching extensions: js,json[39m
[32m[nodemon] starting `node src/server.js`[39m
(node:21116) [MONGOOSE] Warning: Duplicate schema index on {"data_thoigian":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(Use `node --trace-warnings ...` to show where the warning was created)
(node:21116) [MONGOOSE] Warning: Duplicate schema index on {"data_thoigian":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:21116) [MONGOOSE] Warning: Duplicate schema index on {"data_thoigian":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
node:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::1423
    at Server.setupListenHandle [as _listen2] (node:net:1939:16)
    at listenInCluster (node:net:1996:12)
    at Server.listen (node:net:2101:7)
    at Function.listen (C:\project-hydrology-dashboard\backend\node_modules\express\lib\application.js:635:24)
    at Object.<anonymous> (C:\project-hydrology-dashboard\backend\src\server.js:95:20)
    at Module._compile (node:internal/modules/cjs/loader:1730:14)
    at Object..js (node:internal/modules/cjs/loader:1895:10)
    at Module.load (node:internal/modules/cjs/loader:1465:32)
    at Function._load (node:internal/modules/cjs/loader:1282:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1975:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -4091,
  syscall: 'listen',
  address: '::',
  port: 1423
}

Node.js v22.15.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
(node:22512) [MONGOOSE] Warning: Duplicate schema index on {"data_thoigian":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(Use `node --trace-warnings ...` to show where the warning was created)
(node:22512) [MONGOOSE] Warning: Duplicate schema index on {"data_thoigian":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:22512) [MONGOOSE] Warning: Duplicate schema index on {"data_thoigian":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
ğŸš€ Server is running on port 1423
ğŸ“¡ API available at http://localhost:1423/api/v1
ğŸ¥ Health check: http://localhost:1423/api/v1/health
ğŸŒŠ Real-time data: http://localhost:1423/api/v1/get-tide-data-from-now
ğŸ”„ Combined data: http://localhost:1423/api/v1/get-combined-tide-data
â° Khá»Ÿi táº¡o Tide Data Scheduler...
ğŸš€ Khá»Ÿi táº¡o Tide Data Scheduler...
â° Lá»‹ch trÃ¬nh: 0 * * * * (má»—i 1 giá» GMT+7)
ğŸ”¥ Method: Gá»i trá»±c tiáº¿p fetchAllStationsData(force=true)
ğŸš€ Sáº½ fetch dá»¯ liá»‡u tide realy sau 10 giÃ¢y...
âœ… Tide Data Scheduler Ä‘Ã£ Ä‘Æ°á»£c khá»Ÿi táº¡o thÃ nh cÃ´ng!
ğŸï¸ Khá»Ÿi táº¡o HoDauTieng Data Scheduler...
ğŸš€ Khá»Ÿi táº¡o HoDauTieng Data Scheduler...
â° Lá»‹ch trÃ¬nh: 0 * * * * (má»—i 1 tiáº¿ng GMT+7)
ğŸ“ Dá»¯ liá»‡u: Má»±c nÆ°á»›c há»“, LÆ°u lÆ°á»£ng nÆ°á»›c, LÆ°u lÆ°á»£ng xáº£
ğŸ”„ Retry config: 3 attempts, 30000ms timeout
ğŸš€ Sáº½ fetch dá»¯ liá»‡u Há»“ Dáº§u Tiáº¿ng sau 10 giÃ¢y...
âœ… HoDauTieng Data Scheduler Ä‘Ã£ Ä‘Æ°á»£c khá»Ÿi táº¡o thÃ nh cÃ´ng!
ğŸŒŠ Khá»Ÿi táº¡o Mekong Data Scheduler...
ğŸš€ Khá»Ÿi táº¡o Mekong Data Scheduler...
â° Lá»‹ch trÃ¬nh: 0 * * * * (má»—i 1 giá» GMT+7)
ğŸŒŠ Dá»¯ liá»‡u: Mekong water level data
ğŸ”— API: Sá»­ dá»¥ng URL_API_MEKONG tá»« environment
ğŸš€ Sáº½ fetch dá»¯ liá»‡u Mekong sau 15 giÃ¢y...
âœ… Mekong Data Scheduler Ä‘Ã£ Ä‘Æ°á»£c khá»Ÿi táº¡o thÃ nh cÃ´ng!
ğŸ™ï¸ Khá»Ÿi táº¡o Binh Duong Data Scheduler...
Binh Duong scheduler initialized (every hour)
âœ… Táº¥t cáº£ Schedulers Ä‘Ã£ Ä‘Æ°á»£c khá»Ÿi táº¡o (Tide, Station Update, HoDauTieng, Mekong, Binh Duong)
MongoDB connected
ğŸ“‹ ÄÃ£ táº£i 3 tráº¡m tá»« database: [
  '4B413AEE-357A-4FFE-9AE8-591FCA84468C',
  '4EC7BBAF-44E7-4DFA-BAED-4FB1217FBDA8',
  'C6B0DB30-500A-4BF9-AA09-B2470E85BF45'
]
ğŸ¬ Fetch dá»¯ liá»‡u tide realy láº§n Ä‘áº§u vá»›i force=true...
ğŸ¬ Fetch dá»¯ liá»‡u Há»“ Dáº§u Tiáº¿ng láº§n Ä‘áº§u...
ğŸï¸ Báº¯t Ä‘áº§u fetch dá»¯ liá»‡u Há»“ Dáº§u Tiáº¿ng...
â° Thá»i gian: 03:41:12 21/8/2025
ğŸ“… Khoáº£ng thá»i gian fetch: 2025-8-18 3:41:12 Ä‘áº¿n 2025-8-21 3:41:12 (GMT+7)
ğŸ“… Tá»•ng cá»™ng: 3 ngÃ y
ğŸ“Š Äang fetch dá»¯ liá»‡u má»±c nÆ°á»›c há»“...
ğŸ“¡ Making API call to: https://hodautieng.vn/jaxrs/QuanTracHoChua/getDataQuanTracTB (Attempt 1/3)
ğŸ“‹ Request payload: {
  "data": {
    "hc_uuid": "613bbcf5-212e-43c5-9ef8-69016787454f",
    "tents": "Má»±c nÆ°á»›c há»“",
    "mats": "MUCNUOCHO",
    "tungay": "2025-8-18 3:41:12",
    "denngay": "2025-8-21 3:41:12",
    "namdulieu": "2025",
    "namht": 2025,
    "mact": "613bbcf5-212e-43c5-9ef8-69016787454f"
  }
}
ğŸ“‹ ÄÃ£ táº£i 3 tráº¡m tá»« database: [
  '4B413AEE-357A-4FFE-9AE8-591FCA84468C',
  '4EC7BBAF-44E7-4DFA-BAED-4FB1217FBDA8',
  'C6B0DB30-500A-4BF9-AA09-B2470E85BF45'
]
ğŸ• Báº¯t Ä‘áº§u lá»‹ch trÃ¬nh gá»i API thá»§y triá»u thá»±c táº¿...
â° Thá»i gian: 03:41:12 21/8/2025
ğŸ”¥ Force mode: true
ğŸ“¡ Äang gá»i API cho tráº¡m: 4B413AEE-357A-4FFE-9AE8-591FCA84468C (force=true)
ğŸ”„ Force refresh cho tráº¡m: 4B413AEE-357A-4FFE-9AE8-591FCA84468C
ğŸ“¡ Gá»i API (láº§n 1): http://e15.thuyloivietnam.vn/wsHienTrangHoChua/ChartRiverMucNuoc?stationcode=4B413AEE-357A-4FFE-9AE8-591FCA84468C
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
(node:1584) [MONGOOSE] Warning: Duplicate schema index on {"data_thoigian":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1584) [MONGOOSE] Warning: Duplicate schema index on {"data_thoigian":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:1584) [MONGOOSE] Warning: Duplicate schema index on {"data_thoigian":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
node:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::1423
    at Server.setupListenHandle [as _listen2] (node:net:1939:16)
    at listenInCluster (node:net:1996:12)
    at Server.listen (node:net:2101:7)
    at Function.listen (C:\project-hydrology-dashboard\backend\node_modules\express\lib\application.js:635:24)
    at Object.<anonymous> (C:\project-hydrology-dashboard\backend\src\server.js:95:20)
    at Module._compile (node:internal/modules/cjs/loader:1730:14)
    at Object..js (node:internal/modules/cjs/loader:1895:10)
    at Module.load (node:internal/modules/cjs/loader:1465:32)
    at Function._load (node:internal/modules/cjs/loader:1282:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1975:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -4091,
  syscall: 'listen',
  address: '::',
  port: 1423
}

Node.js v22.15.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
(node:14600) [MONGOOSE] Warning: Duplicate schema index on {"data_thoigian":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(Use `node --trace-warnings ...` to show where the warning was created)
(node:14600) [MONGOOSE] Warning: Duplicate schema index on {"data_thoigian":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:14600) [MONGOOSE] Warning: Duplicate schema index on {"data_thoigian":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
ğŸš€ Server is running on port 1423
ğŸ“¡ API available at http://localhost:1423/api/v1
ğŸ¥ Health check: http://localhost:1423/api/v1/health
ğŸŒŠ Real-time data: http://localhost:1423/api/v1/get-tide-data-from-now
ğŸ”„ Combined data: http://localhost:1423/api/v1/get-combined-tide-data
â° Khá»Ÿi táº¡o Tide Data Scheduler...
ğŸš€ Khá»Ÿi táº¡o Tide Data Scheduler...
â° Lá»‹ch trÃ¬nh: 0 * * * * (má»—i 1 giá» GMT+7)
ğŸ”¥ Method: Gá»i trá»±c tiáº¿p fetchAllStationsData(force=true)
ğŸš€ Sáº½ fetch dá»¯ liá»‡u tide realy sau 10 giÃ¢y...
âœ… Tide Data Scheduler Ä‘Ã£ Ä‘Æ°á»£c khá»Ÿi táº¡o thÃ nh cÃ´ng!
ğŸï¸ Khá»Ÿi táº¡o HoDauTieng Data Scheduler...
ğŸš€ Khá»Ÿi táº¡o HoDauTieng Data Scheduler...
â° Lá»‹ch trÃ¬nh: 0 * * * * (má»—i 1 tiáº¿ng GMT+7)
ğŸ“ Dá»¯ liá»‡u: Má»±c nÆ°á»›c há»“, LÆ°u lÆ°á»£ng nÆ°á»›c, LÆ°u lÆ°á»£ng xáº£
ğŸ”„ Retry config: 3 attempts, 30000ms timeout
ğŸš€ Sáº½ fetch dá»¯ liá»‡u Há»“ Dáº§u Tiáº¿ng sau 10 giÃ¢y...
âœ… HoDauTieng Data Scheduler Ä‘Ã£ Ä‘Æ°á»£c khá»Ÿi táº¡o thÃ nh cÃ´ng!
ğŸŒŠ Khá»Ÿi táº¡o Mekong Data Scheduler...
ğŸš€ Khá»Ÿi táº¡o Mekong Data Scheduler...
â° Lá»‹ch trÃ¬nh: 0 * * * * (má»—i 1 giá» GMT+7)
ğŸŒŠ Dá»¯ liá»‡u: Mekong water level data
ğŸ”— API: Sá»­ dá»¥ng URL_API_MEKONG tá»« environment
ğŸš€ Sáº½ fetch dá»¯ liá»‡u Mekong sau 15 giÃ¢y...
âœ… Mekong Data Scheduler Ä‘Ã£ Ä‘Æ°á»£c khá»Ÿi táº¡o thÃ nh cÃ´ng!
ğŸ™ï¸ Khá»Ÿi táº¡o Binh Duong Data Scheduler...
Binh Duong scheduler initialized (every hour)
âœ… Táº¥t cáº£ Schedulers Ä‘Ã£ Ä‘Æ°á»£c khá»Ÿi táº¡o (Tide, Station Update, HoDauTieng, Mekong, Binh Duong)
MongoDB connected
ğŸ“‹ ÄÃ£ táº£i 3 tráº¡m tá»« database: [
  '4B413AEE-357A-4FFE-9AE8-591FCA84468C',
  '4EC7BBAF-44E7-4DFA-BAED-4FB1217FBDA8',
  'C6B0DB30-500A-4BF9-AA09-B2470E85BF45'
]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
(node:19384) [MONGOOSE] Warning: Duplicate schema index on {"data_thoigian":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(Use `node --trace-warnings ...` to show where the warning was created)
(node:19384) [MONGOOSE] Warning: Duplicate schema index on {"data_thoigian":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:19384) [MONGOOSE] Warning: Duplicate schema index on {"data_thoigian":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
node:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::1423
    at Server.setupListenHandle [as _listen2] (node:net:1939:16)
    at listenInCluster (node:net:1996:12)
    at Server.listen (node:net:2101:7)
    at Function.listen (C:\project-hydrology-dashboard\backend\node_modules\express\lib\application.js:635:24)
    at Object.<anonymous> (C:\project-hydrology-dashboard\backend\src\server.js:95:20)
    at Module._compile (node:internal/modules/cjs/loader:1730:14)
    at Object..js (node:internal/modules/cjs/loader:1895:10)
    at Module.load (node:internal/modules/cjs/loader:1465:32)
    at Function._load (node:internal/modules/cjs/loader:1282:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1975:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -4091,
  syscall: 'listen',
  address: '::',
  port: 1423
}

Node.js v22.15.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
(node:17244) [MONGOOSE] Warning: Duplicate schema index on {"data_thoigian":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(Use `node --trace-warnings ...` to show where the warning was created)
(node:17244) [MONGOOSE] Warning: Duplicate schema index on {"data_thoigian":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:17244) [MONGOOSE] Warning: Duplicate schema index on {"data_thoigian":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
ğŸš€ Server is running on port 1423
ğŸ“¡ API available at http://localhost:1423/api/v1
ğŸ¥ Health check: http://localhost:1423/api/v1/health
ğŸŒŠ Real-time data: http://localhost:1423/api/v1/get-tide-data-from-now
ğŸ”„ Combined data: http://localhost:1423/api/v1/get-combined-tide-data
â° Khá»Ÿi táº¡o Tide Data Scheduler...
ğŸš€ Khá»Ÿi táº¡o Tide Data Scheduler...
â° Lá»‹ch trÃ¬nh: 0 * * * * (má»—i 1 giá» GMT+7)
ğŸ”¥ Method: Gá»i trá»±c tiáº¿p fetchAllStationsData(force=true)
ğŸš€ Sáº½ fetch dá»¯ liá»‡u tide realy sau 10 giÃ¢y...
âœ… Tide Data Scheduler Ä‘Ã£ Ä‘Æ°á»£c khá»Ÿi táº¡o thÃ nh cÃ´ng!
ğŸï¸ Khá»Ÿi táº¡o HoDauTieng Data Scheduler...
ğŸš€ Khá»Ÿi táº¡o HoDauTieng Data Scheduler...
â° Lá»‹ch trÃ¬nh: 0 * * * * (má»—i 1 tiáº¿ng GMT+7)
ğŸ“ Dá»¯ liá»‡u: Má»±c nÆ°á»›c há»“, LÆ°u lÆ°á»£ng nÆ°á»›c, LÆ°u lÆ°á»£ng xáº£
ğŸ”„ Retry config: 3 attempts, 30000ms timeout
ğŸš€ Sáº½ fetch dá»¯ liá»‡u Há»“ Dáº§u Tiáº¿ng sau 10 giÃ¢y...
âœ… HoDauTieng Data Scheduler Ä‘Ã£ Ä‘Æ°á»£c khá»Ÿi táº¡o thÃ nh cÃ´ng!
ğŸŒŠ Khá»Ÿi táº¡o Mekong Data Scheduler...
ğŸš€ Khá»Ÿi táº¡o Mekong Data Scheduler...
â° Lá»‹ch trÃ¬nh: 0 * * * * (má»—i 1 giá» GMT+7)
ğŸŒŠ Dá»¯ liá»‡u: Mekong water level data
ğŸ”— API: Sá»­ dá»¥ng URL_API_MEKONG tá»« environment
ğŸš€ Sáº½ fetch dá»¯ liá»‡u Mekong sau 15 giÃ¢y...
âœ… Mekong Data Scheduler Ä‘Ã£ Ä‘Æ°á»£c khá»Ÿi táº¡o thÃ nh cÃ´ng!
ğŸ™ï¸ Khá»Ÿi táº¡o Binh Duong Data Scheduler...
Binh Duong scheduler initialized (every hour)
âœ… Táº¥t cáº£ Schedulers Ä‘Ã£ Ä‘Æ°á»£c khá»Ÿi táº¡o (Tide, Station Update, HoDauTieng, Mekong, Binh Duong)
MongoDB connected
ğŸ“‹ ÄÃ£ táº£i 3 tráº¡m tá»« database: [
  '4B413AEE-357A-4FFE-9AE8-591FCA84468C',
  '4EC7BBAF-44E7-4DFA-BAED-4FB1217FBDA8',
  'C6B0DB30-500A-4BF9-AA09-B2470E85BF45'
]
ğŸ¬ Fetch dá»¯ liá»‡u tide realy láº§n Ä‘áº§u vá»›i force=true...
ğŸ¬ Fetch dá»¯ liá»‡u Há»“ Dáº§u Tiáº¿ng láº§n Ä‘áº§u...
ğŸï¸ Báº¯t Ä‘áº§u fetch dá»¯ liá»‡u Há»“ Dáº§u Tiáº¿ng...
â° Thá»i gian: 03:42:21 21/8/2025
ğŸ“… Khoáº£ng thá»i gian fetch: 2025-8-18 3:42:21 Ä‘áº¿n 2025-8-21 3:42:21 (GMT+7)
ğŸ“… Tá»•ng cá»™ng: 3 ngÃ y
ğŸ“Š Äang fetch dá»¯ liá»‡u má»±c nÆ°á»›c há»“...
ğŸ“¡ Making API call to: https://hodautieng.vn/jaxrs/QuanTracHoChua/getDataQuanTracTB (Attempt 1/3)
ğŸ“‹ Request payload: {
  "data": {
    "hc_uuid": "613bbcf5-212e-43c5-9ef8-69016787454f",
    "tents": "Má»±c nÆ°á»›c há»“",
    "mats": "MUCNUOCHO",
    "tungay": "2025-8-18 3:42:21",
    "denngay": "2025-8-21 3:42:21",
    "namdulieu": "2025",
    "namht": 2025,
    "mact": "613bbcf5-212e-43c5-9ef8-69016787454f"
  }
}
ğŸ“‹ ÄÃ£ táº£i 3 tráº¡m tá»« database: [
  '4B413AEE-357A-4FFE-9AE8-591FCA84468C',
  '4EC7BBAF-44E7-4DFA-BAED-4FB1217FBDA8',
  'C6B0DB30-500A-4BF9-AA09-B2470E85BF45'
]
ğŸ• Báº¯t Ä‘áº§u lá»‹ch trÃ¬nh gá»i API thá»§y triá»u thá»±c táº¿...
â° Thá»i gian: 03:42:21 21/8/2025
ğŸ”¥ Force mode: true
ğŸ“¡ Äang gá»i API cho tráº¡m: 4B413AEE-357A-4FFE-9AE8-591FCA84468C (force=true)
ğŸ”„ Force refresh cho tráº¡m: 4B413AEE-357A-4FFE-9AE8-591FCA84468C
ğŸ“¡ Gá»i API (láº§n 1): http://e15.thuyloivietnam.vn/wsHienTrangHoChua/ChartRiverMucNuoc?stationcode=4B413AEE-357A-4FFE-9AE8-591FCA84468C
âœ… API response status: 200
ğŸ“Š API tráº£ vá» 15 records
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 0.88m â†’ 88cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 0.88m â†’ 88cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 0.88m â†’ 88cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 0.88m â†’ 88cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 0.88m â†’ 88cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 0.54m â†’ 54cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 0.54m â†’ 54cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 0.54m â†’ 54cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 0.54m â†’ 54cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 0.54m â†’ 54cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 0.62m â†’ 62cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 0.62m â†’ 62cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 1.04m â†’ 104cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 1.08m â†’ 108cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 0.34m â†’ 34cm
ğŸ“Š Sau khi lá»c trÃ¹ng láº·p: 6 records
ğŸ“Š Processed 6 tide realy records from 6 raw records
ğŸ“Š Processed data ready for database: 6 records (6 total)
ğŸ”„ Starting SAFE station-specific data replacement for station: 4B413AEE-357A-4FFE-9AE8-591FCA84468C
ğŸ“Š Input data count: 6
ğŸ“Š Model name: TideRealy
ğŸ—‘ï¸ Deleting existing data for station: 4B413AEE-357A-4FFE-9AE8-591FCA84468C
ğŸ—‘ï¸ Successfully deleted 6 documents
ğŸ—‘ï¸ Deleted old data for station 4B413AEE-357A-4FFE-9AE8-591FCA84468C: 6 records
ğŸ’¾ Inserting new data for station: 4B413AEE-357A-4FFE-9AE8-591FCA84468C
ğŸ’¾ Successfully inserted 6 documents
ğŸ’¾ Inserted new data for station 4B413AEE-357A-4FFE-9AE8-591FCA84468C: 6 records
ğŸ“Š Verifying insertion for station: 4B413AEE-357A-4FFE-9AE8-591FCA84468C
ğŸ“Š Found 6 documents matching filter
ğŸ“Š Final document count for station 4B413AEE-357A-4FFE-9AE8-591FCA84468C: 6
âœ… Station-specific data replacement successful for station: 4B413AEE-357A-4FFE-9AE8-591FCA84468C
âœ… ÄÃ£ force refresh vÃ  thay tháº¿ toÃ n bá»™ dá»¯ liá»‡u cho tráº¡m: 4B413AEE-357A-4FFE-9AE8-591FCA84468C
âœ… Tráº¡m 4B413AEE-357A-4FFE-9AE8-591FCA84468C: 6 records má»›i, 6 records tá»•ng
ğŸ“¡ Äang gá»i API cho tráº¡m: 4EC7BBAF-44E7-4DFA-BAED-4FB1217FBDA8 (force=true)
ğŸ”„ Force refresh cho tráº¡m: 4EC7BBAF-44E7-4DFA-BAED-4FB1217FBDA8
ğŸ“¡ Gá»i API (láº§n 1): http://e15.thuyloivietnam.vn/wsHienTrangHoChua/ChartRiverMucNuoc?stationcode=4EC7BBAF-44E7-4DFA-BAED-4FB1217FBDA8
âœ… API response status: 200
ğŸ“Š API tráº£ vá» 15 records
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 2.83m â†’ 283cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 3.29m â†’ 329cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 3.29m â†’ 329cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 3.29m â†’ 329cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 3.29m â†’ 329cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 3.29m â†’ 329cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 3.51m â†’ 351cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 3.51m â†’ 351cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 3.51m â†’ 351cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 3.51m â†’ 351cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 3.51m â†’ 351cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 3.51m â†’ 351cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 3.53m â†’ 353cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 3.3m â†’ 330cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 3.32m â†’ 332cm
ğŸ“Š Sau khi lá»c trÃ¹ng láº·p: 6 records
ğŸ”§ Äiá»u chá»‰nh giÃ¡ trá»‹ VÅ©ng TÃ u: 283 -> -5.5 (trá»« 288.5)
ğŸ”§ Äiá»u chá»‰nh giÃ¡ trá»‹ VÅ©ng TÃ u: 329 -> 40.5 (trá»« 288.5)
ğŸ”§ Äiá»u chá»‰nh giÃ¡ trá»‹ VÅ©ng TÃ u: 351 -> 62.5 (trá»« 288.5)
ğŸ”§ Äiá»u chá»‰nh giÃ¡ trá»‹ VÅ©ng TÃ u: 353 -> 64.5 (trá»« 288.5)
ğŸ”§ Äiá»u chá»‰nh giÃ¡ trá»‹ VÅ©ng TÃ u: 330 -> 41.5 (trá»« 288.5)
ğŸ”§ Äiá»u chá»‰nh giÃ¡ trá»‹ VÅ©ng TÃ u: 332 -> 43.5 (trá»« 288.5)
ğŸ“Š Processed 6 tide realy records from 6 raw records
ğŸ“Š Processed data ready for database: 6 records (6 total)
ğŸ”„ Starting SAFE station-specific data replacement for station: 4EC7BBAF-44E7-4DFA-BAED-4FB1217FBDA8
ğŸ“Š Input data count: 6
ğŸ“Š Model name: TideRealy
ğŸ—‘ï¸ Deleting existing data for station: 4EC7BBAF-44E7-4DFA-BAED-4FB1217FBDA8
ğŸ—‘ï¸ Successfully deleted 6 documents
ğŸ—‘ï¸ Deleted old data for station 4EC7BBAF-44E7-4DFA-BAED-4FB1217FBDA8: 6 records
ğŸ’¾ Inserting new data for station: 4EC7BBAF-44E7-4DFA-BAED-4FB1217FBDA8
ğŸ’¾ Successfully inserted 6 documents
ğŸ’¾ Inserted new data for station 4EC7BBAF-44E7-4DFA-BAED-4FB1217FBDA8: 6 records
ğŸ“Š Verifying insertion for station: 4EC7BBAF-44E7-4DFA-BAED-4FB1217FBDA8
ğŸ“Š Found 6 documents matching filter
ğŸ“Š Final document count for station 4EC7BBAF-44E7-4DFA-BAED-4FB1217FBDA8: 6
âœ… Station-specific data replacement successful for station: 4EC7BBAF-44E7-4DFA-BAED-4FB1217FBDA8
âœ… ÄÃ£ force refresh vÃ  thay tháº¿ toÃ n bá»™ dá»¯ liá»‡u cho tráº¡m: 4EC7BBAF-44E7-4DFA-BAED-4FB1217FBDA8
âœ… Tráº¡m 4EC7BBAF-44E7-4DFA-BAED-4FB1217FBDA8: 6 records má»›i, 6 records tá»•ng
ğŸ“¡ Äang gá»i API cho tráº¡m: C6B0DB30-500A-4BF9-AA09-B2470E85BF45 (force=true)
ğŸ”„ Force refresh cho tráº¡m: C6B0DB30-500A-4BF9-AA09-B2470E85BF45
ğŸ“¡ Gá»i API (láº§n 1): http://e15.thuyloivietnam.vn/wsHienTrangHoChua/ChartRiverMucNuoc?stationcode=C6B0DB30-500A-4BF9-AA09-B2470E85BF45
âœ… API response status: 200
ğŸ“Š API tráº£ vá» 15 records
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 1.12m â†’ 112.00000000000001cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 1.12m â†’ 112.00000000000001cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 1.12m â†’ 112.00000000000001cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 1.12m â†’ 112.00000000000001cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 1.12m â†’ 112.00000000000001cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 1.24m â†’ 124cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 1.24m â†’ 124cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 1.24m â†’ 124cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 1.24m â†’ 124cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 1.24m â†’ 124cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 0.52m â†’ 52cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 0.52m â†’ 52cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 0.63m â†’ 63cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 1.4m â†’ 140cm
ğŸ”„ Chuyá»ƒn Ä‘á»•i: 0.78m â†’ 78cm
ğŸ“Š Sau khi lá»c trÃ¹ng láº·p: 6 records
ğŸ“Š Processed 6 tide realy records from 6 raw records
ğŸ“Š Processed data ready for database: 6 records (6 total)
ğŸ”„ Starting SAFE station-specific data replacement for station: C6B0DB30-500A-4BF9-AA09-B2470E85BF45
ğŸ“Š Input data count: 6
ğŸ“Š Model name: TideRealy
ğŸ—‘ï¸ Deleting existing data for station: C6B0DB30-500A-4BF9-AA09-B2470E85BF45
âœ… API call successful on attempt 1
ğŸ“Š Processed 52 records from 52 raw records
âš ï¸ WARNING: replaceAllData is deprecated and DANGEROUS - it deletes ALL data in collection!
âš ï¸ Use replaceStationData for station-specific replacement instead.
ğŸ”„ Starting complete data replacement...
ğŸ—‘ï¸ Successfully deleted 6 documents
ğŸ—‘ï¸ Deleted old data for station C6B0DB30-500A-4BF9-AA09-B2470E85BF45: 6 records
ğŸ’¾ Inserting new data for station: C6B0DB30-500A-4BF9-AA09-B2470E85BF45
ğŸ—‘ï¸ Successfully deleted 52 documents
ğŸ—‘ï¸ Deleted old data: 52 records
ğŸ’¾ Successfully inserted 6 documents
ğŸ’¾ Inserted new data for station C6B0DB30-500A-4BF9-AA09-B2470E85BF45: 6 records
ğŸ“Š Verifying insertion for station: C6B0DB30-500A-4BF9-AA09-B2470E85BF45
ğŸ’¾ Successfully inserted 52 documents
ğŸ’¾ Inserted new data: 52 records
âœ… Complete data replacement successful!
âœ… Má»±c nÆ°á»›c há»“: 52 records má»›i
ğŸ’§ Äang fetch dá»¯ liá»‡u lÆ°u lÆ°á»£ng nÆ°á»›c...
ğŸ“¡ Making API call to: https://hodautieng.vn/jaxrs/QuanTracHoChua/getDataQuanTracTB (Attempt 1/3)
ğŸ“‹ Request payload: {
  "data": {
    "hc_uuid": "613bbcf5-212e-43c5-9ef8-69016787454f",
    "tents": "DÃ²ng cháº£y Ä‘áº¿n há»“",
    "mats": "QDEN",
    "tungay": "2025-8-18 3:42:21",
    "denngay": "2025-8-21 3:42:21",
    "namdulieu": "2025",
    "namht": 2025,
    "mact": "613bbcf5-212e-43c5-9ef8-69016787454f"
  }
}
ğŸ“Š Found 6 documents matching filter
ğŸ“Š Final document count for station C6B0DB30-500A-4BF9-AA09-B2470E85BF45: 6
âœ… Station-specific data replacement successful for station: C6B0DB30-500A-4BF9-AA09-B2470E85BF45
âœ… ÄÃ£ force refresh vÃ  thay tháº¿ toÃ n bá»™ dá»¯ liá»‡u cho tráº¡m: C6B0DB30-500A-4BF9-AA09-B2470E85BF45
âœ… Tráº¡m C6B0DB30-500A-4BF9-AA09-B2470E85BF45: 6 records má»›i, 6 records tá»•ng
ğŸ“Š TÃ³m táº¯t káº¿t quáº£:
  âœ… 4B413AEE-357A-4FFE-9AE8-591FCA84468C: 6 records má»›i (6)
  âœ… 4EC7BBAF-44E7-4DFA-BAED-4FB1217FBDA8: 6 records má»›i (6)
  âœ… C6B0DB30-500A-4BF9-AA09-B2470E85BF45: 6 records má»›i (6)
âœ… API call successful on attempt 1
ğŸ“Š Processed 68 Qden records from 68 raw records
âš ï¸ WARNING: replaceAllData is deprecated and DANGEROUS - it deletes ALL data in collection!
âš ï¸ Use replaceStationData for station-specific replacement instead.
ğŸ”„ Starting complete data replacement...
ğŸ—‘ï¸ Successfully deleted 68 documents
ğŸ—‘ï¸ Deleted old data: 68 records
ğŸ’¾ Successfully inserted 68 documents
ğŸ’¾ Inserted new data: 68 records
âœ… Complete data replacement successful!
âœ… LÆ°u lÆ°á»£ng nÆ°á»›c: 68 records má»›i
ğŸš° Äang fetch dá»¯ liá»‡u lÆ°u lÆ°á»£ng xáº£...
ğŸ“¡ Making API call to: https://hodautieng.vn/jaxrs/QuanTracHoChua/getDataQuanTrac (Attempt 1/3)
ğŸ“‹ Request payload: {
  "data": {
    "hc_uuid": "613bbcf5-212e-43c5-9ef8-69016787454f",
    "tents": "Tá»•ng lÆ°u lÆ°á»£ng ra khá»i há»“",
    "mats": "LUULUONGXA",
    "mact": "",
    "tungay": "2025-8-18 3:42:21",
    "denngay": "2025-8-21 3:42:21",
    "denngaydb": "2025-8-24 3:42:21",
    "ngayht": "2025-8-21 3:42:21",
    "nguondb": "2",
    "gioht": "00,01,02,03,04,05,06,07,08,09,10,11,12,13,14,15,16,17,18,19,20,21,22,23",
    "tansuat": 60
  },
  "token": ""
}
âœ… API call successful on attempt 1
ğŸ” Luuluongxa processing item 0: {
  original: {
    data_thoigian: '2025-08-18 04:42:21',
    data_thoigian_hienthi: '18/08/2025 04:42:21',
    luuluongxa: 61.659004,
    luuluongcong: 41.375015,
    luuluongtran: 20.283989,
    luuluongthuydien: null
  },
  processed: {
    data_thoigian: 2025-08-17T21:42:21.000Z,
    data_thoigian_hienthi: '18/08/2025 04:42:21',
    luuluongxa: 61.659004,
    luuluongcong: 41.375015,
    luuluongtran: 20.283989,
    luuluongthuydien: null,
    unit: 'mÂ³/s'
  }
}
ğŸ” Luuluongxa processing item 1: {
  original: {
    data_thoigian: '2025-08-18 05:42:21',
    data_thoigian_hienthi: '18/08/2025 05:42:21',
    luuluongxa: 61.659004,
    luuluongcong: 41.375015,
    luuluongtran: 20.283989,
    luuluongthuydien: null
  },
  processed: {
    data_thoigian: 2025-08-17T22:42:21.000Z,
    data_thoigian_hienthi: '18/08/2025 05:42:21',
    luuluongxa: 61.659004,
    luuluongcong: 41.375015,
    luuluongtran: 20.283989,
    luuluongthuydien: null,
    unit: 'mÂ³/s'
  }
}
ğŸ“Š Processed 69 Luuluongxa records from 69 raw records
âš ï¸ WARNING: replaceAllData is deprecated and DANGEROUS - it deletes ALL data in collection!
âš ï¸ Use replaceStationData for station-specific replacement instead.
ğŸ”„ Starting complete data replacement...
ğŸ—‘ï¸ Successfully deleted 69 documents
ğŸ—‘ï¸ Deleted old data: 69 records
ğŸ’¾ Successfully inserted 69 documents
ğŸ’¾ Inserted new data: 69 records
âœ… Complete data replacement successful!
âœ… LÆ°u lÆ°á»£ng xáº£: 69 records má»›i
ğŸ“Š TÃ³m táº¯t káº¿t quáº£ fetch Há»“ Dáº§u Tiáº¿ng:
  âœ… mucnuocho: 52 records má»›i
  âœ… qden: 68 records má»›i
  âœ… luuluongxa: 69 records má»›i
ğŸ¯ Tá»•ng káº¿t: 3/3 thÃ nh cÃ´ng, 189 records má»›i
ğŸ¬ Fetch dá»¯ liá»‡u Mekong láº§n Ä‘áº§u...
ğŸŒŠ Báº¯t Ä‘áº§u fetch dá»¯ liá»‡u Mekong theo lá»‹ch trÃ¬nh...
â° Thá»i gian: 03:42:26 21/8/2025
ğŸŒŠ Báº¯t Ä‘áº§u fetch dá»¯ liá»‡u tá»« táº¥t cáº£ Mekong stations...
ğŸ“¡ Fetching data for ChauDoc...
ğŸŒŠ Báº¯t Ä‘áº§u fetch dá»¯ liá»‡u Mekong API cho ChauDoc (CDO)...
ğŸ“¡ Calling Mekong API... (Attempt 1/3)
ğŸ”— API URL: https://ffw.mrcmekong.org/fetch_stforecast.php?StCode=CDO
â³ Initial fetch for Binh Duong data after 15 seconds...
ÄÃ£ cáº­p nháº­t 6 tráº¡m vá»›i lá»‹ch sá»­
âœ… Initial fetch completed
âœ… Mekong API call successful on attempt 1
ğŸ“‹ Response status: 200
ğŸ“¡ Received 896 chars from ChauDoc API
ğŸ”„ Parsing Mekong array string...
âœ… Successfully parsed 12 items from Mekong API
ğŸ“Š API tráº£ vá» 12 records cho ChauDoc
ğŸ”„ Processing Mekong data for station: ChauDoc (CDO)
âœ… Processed 12 valid items for ChauDoc out of 12 total
âœ… Validation passed for 12 items
ğŸ”„ Starting SAFE station-specific data replacement for station: CDO
ğŸ“Š Input data count: 12
ğŸ“Š Model name: Mekong
ğŸ—‘ï¸ Deleting existing data for station: CDO
ğŸ—‘ï¸ Successfully deleted 12 documents
ğŸ—‘ï¸ Deleted old data for station CDO: 12 records
ğŸ’¾ Inserting new data for station: CDO
ğŸ’¾ Successfully inserted 12 documents
ğŸ’¾ Inserted new data for station CDO: 12 records
ğŸ“Š Verifying insertion for station: CDO
ğŸ“Š Found 12 documents matching filter
ğŸ“Š Final document count for station CDO: 12
âœ… Station-specific data replacement successful for station: CDO
âš ï¸ Could not calculate date range for ChauDoc: Invalid time value
ğŸ“¡ Fetching data for TanChau...
ğŸŒŠ Báº¯t Ä‘áº§u fetch dá»¯ liá»‡u Mekong API cho TanChau (TCH)...
ğŸ“¡ Calling Mekong API... (Attempt 1/3)
ğŸ”— API URL: https://ffw.mrcmekong.org./fetch_stforecast.php?StCode=TCH
âœ… Mekong API call successful on attempt 1
ğŸ“‹ Response status: 200
ğŸ“¡ Received 943 chars from TanChau API
ğŸ”„ Parsing Mekong array string...
âœ… Successfully parsed 12 items from Mekong API
ğŸ“Š API tráº£ vá» 12 records cho TanChau
ğŸ”„ Processing Mekong data for station: TanChau (TCH)
âœ… Processed 12 valid items for TanChau out of 12 total
âœ… Validation passed for 12 items
ğŸ”„ Starting SAFE station-specific data replacement for station: TCH
ğŸ“Š Input data count: 12
ğŸ“Š Model name: Mekong
ğŸ—‘ï¸ Deleting existing data for station: TCH
ğŸ—‘ï¸ Successfully deleted 12 documents
ğŸ—‘ï¸ Deleted old data for station TCH: 12 records
ğŸ’¾ Inserting new data for station: TCH
ğŸ’¾ Successfully inserted 12 documents
ğŸ’¾ Inserted new data for station TCH: 12 records
ğŸ“Š Verifying insertion for station: TCH
ğŸ“Š Found 12 documents matching filter
ğŸ“Š Final document count for station TCH: 12
âœ… Station-specific data replacement successful for station: TCH
âš ï¸ Could not calculate date range for TanChau: Invalid time value
âœ… Mekong scheduler: undefined records Ä‘Æ°á»£c lÆ°u thÃ nh cÃ´ng
ğŸ“Š Káº¿t quáº£: undefined/undefined stations thÃ nh cÃ´ng
ÄÃ£ cáº­p nháº­t 6 tráº¡m vá»›i lá»‹ch sá»­
Request params: { key: 'BD_TD01_NUOTDM', start: '2025-08-20', end: '2025-08-21' }
Debug - First history entry: {
  "timestamp": "2025-08-20T20:44:00.000Z",
  "measuringLogs": {
    "COD": {
      "key": "COD",
      "name": "COD",
      "unit": "mg/L",
      "maxLimit": 10,
      "minLimit": null,
      "maxTend": null,
      "minTend": null,
      "maxRange": null,
      "minRange": null,
      "value": 20.2,
      "statusDevice": 0,
      "warningLevel": "EXCEEDED"
    },
    "EC": {
      "key": "EC",
      "name": "EC",
      "unit": "uS/cm",
      "maxLimit": null,
      "minLimit": null,
      "maxTend": null,
      "minTend": null,
      "maxRange": null,
      "minRange": null,
      "value": 171.8,
      "statusDevice": 0,
      "warningLevel": "GOOD"
    },
    "DO": {
      "key": "DO",
      "name": "DO",
      "unit": "mg/l",
      "maxLimit": 20,
      "minLimit": 0,
      "maxTend": null,
      "minTend": null,
      "maxRange": null,
      "minRange": null,
      "value": 0.6,
      "statusDevice": 0,
      "warningLevel": "GOOD"
    },
    "Temp": {
      "key": "Temp",
      "name": "Temp",
      "unit": "oC",
      "maxLimit": 109,
      "minLimit": null,
      "maxTend": null,
      "minTend": null,
      "maxRange": null,
      "minRange": null,
      "value": 29.6,
      "statusDevice": 0,
      "warningLevel": "GOOD"
    },
    "pH": {
      "key": "pH",
      "name": "pH",
      "unit": "",
      "maxLimit": 8.5,
      "minLimit": 5.5,
      "maxTend": null,
      "minTend": null,
      "maxRange": null,
      "minRange": null,
      "value": 6.6,
      "statusDevice": 0,
      "warningLevel": "GOOD"
    },
    "TSS": {
      "key": "TSS",
      "name": "TSS",
      "unit": "mg/l",
      "maxLimit": 25,
      "minLimit": null,
      "maxTend": null,
      "minTend": null,
      "maxRange": null,
      "minRange": null,
      "value": 43.8,
      "statusDevice": 0,
      "warningLevel": "EXCEEDED"
    }
  },
  "_id": "68a6330a907dc65495dc54f4"
}
Debug - Processing entry: {
  timestamp: 2025-08-20T20:44:00.000Z,
  hasMeasuringLogs: true,
  measuringLogsType: 'object',
  measuringLogsKeys: [ 'COD', 'EC', 'DO', 'Temp', 'pH', 'TSS' ]
}
Debug - Processing entry: {
  timestamp: 2025-08-20T20:44:00.000Z,
  hasMeasuringLogs: true,
  measuringLogsType: 'object',
  measuringLogsKeys: [ 'COD', 'EC', 'DO', 'Temp', 'pH', 'TSS' ]
}
Debug - Processing entry: {
  timestamp: 2025-08-20T20:44:00.000Z,
  hasMeasuringLogs: true,
  measuringLogsType: 'object',
  measuringLogsKeys: [ 'COD', 'EC', 'DO', 'Temp', 'pH', 'TSS' ]
}
Tri An data scraped and saved
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node src/server.js`[39m
(node:3604) [MONGOOSE] Warning: Duplicate schema index on {"data_thoigian":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3604) [MONGOOSE] Warning: Duplicate schema index on {"data_thoigian":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:3604) [MONGOOSE] Warning: Duplicate schema index on {"data_thoigian":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
node:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::1423
    at Server.setupListenHandle [as _listen2] (node:net:1939:16)
    at listenInCluster (node:net:1996:12)
    at Server.listen (node:net:2101:7)
    at Function.listen (C:\project-hydrology-dashboard\backend\node_modules\express\lib\application.js:635:24)
    at Object.<anonymous> (C:\project-hydrology-dashboard\backend\src\server.js:95:20)
    at Module._compile (node:internal/modules/cjs/loader:1730:14)
    at Object..js (node:internal/modules/cjs/loader:1895:10)
    at Module.load (node:internal/modules/cjs/loader:1465:32)
    at Function._load (node:internal/modules/cjs/loader:1282:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1975:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -4091,
  syscall: 'listen',
  address: '::',
  port: 1423
}

Node.js v22.15.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
